// Modern CSS Reset
// Based on modern reset practices and accessibility guidelines

// ===== BOX SIZING =====
*,
*::before,
*::after {
  box-sizing: border-box;
}

// ===== REMOVE DEFAULT MARGINS =====
* {
  margin: 0;
  padding: 0;
}

// ===== HTML & BODY =====
html {
  // Prevent adjustments of font size after orientation changes in iOS
  -webkit-text-size-adjust: 100%;
  // Enable smooth scrolling (can be overridden by user preference)
  scroll-behavior: smooth;
  // Set base font size for rem calculations
  font-size: 100%; // 16px
  // Improve text rendering
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  // Set minimum height to full viewport
  min-height: 100vh;
  // Improve text rendering
  line-height: 1.6;
  // Prevent horizontal scrolling
  overflow-x: hidden;
  // Set default font family
  font-family: $font-primary;
  // Set default font size
  font-size: $font-size-base;
  // Set default font weight
  font-weight: $font-weight-normal;
  // Set default colors (will be overridden by CSS custom properties)
  color: var(--text-primary);
  background-color: var(--bg-primary);
  // Smooth transitions for theme changes
  transition: color $transition-base ease, background-color $transition-base ease;
}

// ===== TYPOGRAPHY RESET =====

// Remove default margins from headings
h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-weight: inherit;
  line-height: 1.2;
  color: inherit;
}

// Remove default margins from paragraphs
p {
  margin: 0;
}

// Reset list styles
ul, ol {
  list-style: none;
  margin: 0;
  padding: 0;
}

// Reset blockquote styles
blockquote {
  margin: 0;
  padding: 0;
}

// ===== MEDIA RESET =====

// Make images responsive by default
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

// Remove default styling from figures
figure {
  margin: 0;
}

// ===== FORM RESET =====

// Reset form elements
input, button, textarea, select {
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  outline: none;
}

// Remove default button styles
button {
  cursor: pointer;
  background: none;
  border: none;
  padding: 0;
  font: inherit;
  color: inherit;
  text-decoration: none;
  
  &:disabled {
    cursor: not-allowed;
  }
}

// Reset input styles
input, textarea {
  border: none;
  outline: none;
  background: transparent;
  
  &::placeholder {
    opacity: 1;
  }
}

// Reset select styles
select {
  appearance: none;
  background: transparent;
  border: none;
  outline: none;
}

// ===== LINK RESET =====

// Remove default link styles
a {
  color: inherit;
  text-decoration: none;
  
  &:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }
}

// ===== TABLE RESET =====

// Reset table styles
table {
  border-collapse: collapse;
  border-spacing: 0;
}

th, td {
  padding: 0;
  text-align: left;
}

// ===== ACCESSIBILITY IMPROVEMENTS =====

// Improve focus visibility
:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

// Remove focus outline for mouse users
:focus:not(:focus-visible) {
  outline: none;
}

// ===== REDUCED MOTION =====

// Respect user's motion preferences
@include reduced-motion {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// ===== HIGH CONTRAST MODE =====

// Improve visibility in high contrast mode
@include high-contrast {
  * {
    border-color: currentColor !important;
  }
  
  img, video, canvas, svg {
    filter: contrast(1.2);
  }
}

// ===== PRINT STYLES =====

// Basic print optimizations
@media print {
  *,
  *::before,
  *::after {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a,
  a:visited {
    text-decoration: underline;
  }
  
  img {
    page-break-inside: avoid;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  
  p {
    orphans: 3;
    widows: 3;
  }
}